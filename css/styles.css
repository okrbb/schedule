/* --- APLIKÁCIA ROZPIS POHOTOVOSTI --- */

/* === 1. CSS CUSTOM PROPERTIES (PREVZATÉ Z "CESTOVNÝ PRÍKAZ") === */
:root {
    /* Farby - Warm Modern Palette 2025 */
    --mocha: #6B5A4F;
    --mocha-light: #8B7766;
    --mocha-dark: #4A3F35;
    
    --primary: #F3B200; /* Hlavná farba (zlatá/žltá) */
    --primary-dark: #4338CA;
    --primary-light: #6366F1;
    
    --accent: #003366; /* Akcentová farba (tmavomodrá) */
    --accent-light: #F472B6;
    
    /* Neutrals */
    --gray-50: #F9FAFB;
    --gray-100: #F3F4F6;
    --gray-200: #E5E7EB;
    --gray-300: #D1D5DB;
    --gray-400: #9CA3AF;
    --gray-500: #6B7280;
    --gray-600: #4B5563;
    --gray-700: #374151;
    --gray-800: #1F2937;
    --gray-900: #111827;
    
    /* Semantic Colors */
    --text-primary: var(--accent);
    --text-secondary: var(--gray-600);
    --text-tertiary: var(--gray-500);
    
    --bg-body: #FAFAFA; /* Pozadie celej stránky (svetlé) */
    --bg-panel: #FFFFFF; /* Pozadie panelov (biele) */
    --bg-elevated: #FFFFFF; /* Pozadie pre "plávajúce" prvky */
    
    --border: var(--gray-200);
    --border-focus: var(--primary-light);
    
    --destructive-color: #e74c3c;
    --destructive-hover-color: #c0392b;
    --duty-color: var(--primary); /* Farba pre hlásenia */

    /* Typography */
    --font-heading: 'Space Grotesk', -apple-system, system-ui, sans-serif;
    --font-body: 'Inter', -apple-system, system-ui, sans-serif;
    
    /* Spacing & Sizing */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    
    /* Shadows - 2025 Soft & Layered */
    --shadow-sm: 
        0 1px 2px 0 rgba(0, 0, 0, 0.03),
        0 1px 3px 0 rgba(0, 0, 0, 0.02);
    --shadow-md: 
        0 4px 6px -1px rgba(0, 0, 0, 0.06),
        0 2px 4px -2px rgba(0, 0, 0, 0.04);
    --shadow-lg: 
        0 10px 15px -3px rgba(0, 0, 0, 0.08),
        0 4px 6px -4px rgba(0, 0, 0, 0.05);
    --shadow-xl: 
        0 20px 25px -5px rgba(0, 0, 0, 0.08),
        0 8px 10px -6px rgba(0, 0, 0, 0.05);
    
    /* Glassmorphism */
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.2);
    
    /* Transitions */
    --transition-base: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Mapovanie starých premenných na nové */
    --primary-color: var(--gray-100); /* Svetlé pozadie pre prvky */
    --secondary-color: var(--gray-800); /* Tmavé pozadie pre vnútorné časti */
    --accent-color: var(--accent); /* Nová akcentová modrá */
    --text-color: var(--gray-50); /* Svetlý text na tmavom pozadí */
    --text-color-dark: var(--text-primary); /* Tmavý text na svetlom pozadí */
    --bg-color-light: var(--bg-panel); /* Hlavná farba panelov */
    --border-radius: var(--radius-md); /* Zjednotený radius */
    --box-shadow: var(--shadow-md);
    --transition: var(--transition-base);
    --hover-color: var(--accent-light);
    --font-family: var(--font-body);
}

/* === 3. ANIMATED BACKGROUND ORBS (PREVZATÉ) === */
.background-orbs {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: -1;
    pointer-events: none;
}

.orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    animation: float 20s ease-in-out infinite;
}

.orb-1 {
    width: 500px;
    height: 500px;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    top: -200px;
    left: -200px;
    animation-delay: 0s;
}

.orb-2 {
    width: 400px;
    height: 400px;
    background: linear-gradient(135deg, var(--accent), var(--primary-light));
    bottom: -150px;
    right: -150px;
    animation-delay: 7s;
}

.orb-3 {
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, var(--mocha), var(--primary));
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation-delay: 14s;
}

@keyframes float {
    0%, 100% {
        transform: translate(0, 0) scale(1);
    }
    33% {
        transform: translate(30px, -30px) scale(1.1);
    }
    66% {
        transform: translate(-20px, 20px) scale(0.9);
    }
}


/* === Základné štýly === */
body {
  font-family: var(--font-family);
  margin: 0;
  padding: 0;
  background-color: transparent; /* <-- TOTO JE OPRAVA */
  color: var(--text-color-dark); /* POUŽITÝ NOVÝ TEXT */
  line-height: 1.6;
}

/* --- NOVÉ HLAVNÉ ROZLOŽENIE --- */
.container {
  display: grid;
  grid-template-columns: 630px 1fr;
  height: 100vh;
  margin: 0;
  padding: 20px; /* PRIDANÉ ODSADENIE OKOLO CELEJ APLIKÁCIE */
  gap: 20px; /* PRIDANÁ MEDZERA MEDZI STĹPCAMI */
  max-width: none;
  box-sizing: border-box; /* Zabezpečí správny výpočet veľkosti */
}

.sidebar-layout {
  height: calc(100vh - 40px); /* (100vh - padding) */
  overflow-y: auto;
  padding: 0; /* Vnútorný padding už má .calendar-table */
  border-radius: var(--radius-xl); /* <-- PRIDANÉ PRE OPRAVU ROHOV */
  
  /* ODSTRÁNENÉ PÔVODNÉ ŠTÝLY */
  /* background-color: var(--bg-color-light); */
  /* border-right: 1px solid var(--secondary-color); */
}

.main-content-layout {
  height: calc(100vh - 40px); /* (100vh - padding) */
  overflow-y: auto;
  padding: 0; /* Padding je riešený vnútorne */
  display: flex;
  flex-direction: column;
  border-radius: var(--radius-xl); /* <-- PRIDANÉ PRE OPRAVU ROHOV */
}

.dnd-wrapper {
  display: grid;
  grid-template-columns: 1fr; 
  gap: 20px;
  flex-grow: 1;
  min-height: 0;
}
/* --- KONIEC HLAVNÉHO ROZLOŽENIA --- */


.top-section {
  display: flex;
  flex-direction: column; 
  justify-content: space-between;
  margin-bottom: 20px;
  padding: 20px; 
  
  /* --- APLIKOVANÝ NOVÝ DIZAJN PANELU --- */
  background-color: var(--glass-bg); /* <-- ZMENA */
  border-radius: var(--radius-xl); 
  box-shadow: var(--shadow-lg); 
  border: 1px solid var(--glass-border); /* <-- ZMENA */
  backdrop-filter: blur(10px); /* <-- PRIDANÉ */
  
  position: sticky;
  top: 0;
  z-index: 10;
}

.selectors {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.selMonth, .selYear {
  padding: 10px;
  border-radius: var(--radius-md); /* Zjednotený radius */
  border: 1px solid var(--border); /* Nový border */
  transition: var(--transition);
  font-family: var(--font-family);
  background: var(--gray-50); /* Svetlé pozadie */
  color: var(--text-primary);
}

.selMonth:hover, .selYear:hover {
  border-color: var(--accent-color);
}
.selMonth:focus, .selYear:focus {
  outline: 2px solid var(--border-focus);
  border-color: transparent;
}

/* --- ŠTÝLY TLAČIDIEL (UPRAVENÉ PRE NOVÝ DIZAJN) --- */
.shbtn {
  border: none;
  padding: 10px 15px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: var(--transition);
  font-weight: 600;
  font-family: var(--font-body);
  box-shadow: var(--shadow-sm);

  /* --- NOVÉ: Pre zarovnanie ikony a textu --- */
  display: inline-flex; /* Umožní flexbox layout */
  align-items: center; /* Vertikálne zarovná na stred */
  justify-content: center; /* Horizontálne zarovná na stred (ak je dostatok miesta) */
  gap: 8px; /* Medzera medzi ikonou a textom */
}

.shbtn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md); /* Výraznejší tieň */
}

.shbtn--primary {
  background-image: none;
  background-color: var(--accent); /* Nová požadovaná farba */
  color: white;
  transition: var(--transition);
}

.shbtn--primary:hover {
  filter: brightness(2.1); 
  box-shadow: 0 0 12px 3px rgba(0, 51, 102, 0.4); 
}

.shbtn--destructive {
  background-color: transparent;
  color: var(--destructive-color);
  border: 1px solid var(--destructive-color);
}
.shbtn--destructive:hover {
  background-color: var(--destructive-color);
  color: white;
  border-color: var(--destructive-color);
}
/* --- KONIEC ŠTÝLOV TLAČIDIEL --- */


/* --- RESPONZÍVNE SPRÁVANIE PRE NOVÉ ROZLOŽENIE --- */
@media (max-width: 1024px) {
  .container {
    grid-template-columns: 1fr;
    height: auto;
    padding: 15px; /* Menší padding na mobile */
    gap: 15px;
  }
  .sidebar-layout, .main-content-layout {
    height: auto;
    overflow-y: visible;
  }
}

@media (max-width: 768px) {
  .top-section, .selectors {
    flex-direction: column;
    align-items: stretch;
  }
  .selMonth, .selYear, .shbtn {
    width: 100%;
  }
  .available-people-grid {
    grid-template-columns: 1fr !important;
  }
}
/* --- KONIEC RESPONZIVITY --- */


/* --- ŠTÝLY PRE KALENDÁR --- */
.calendar-table {
  /* --- APLIKOVANÝ NOVÝ DIZAJN PANELU --- */
  background-color: var(--glass-bg); /* <-- ZMENA */
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--glass-border); /* <-- ZMENA */
  padding: 20px; 
  height: auto;
  backdrop-filter: blur(10px); /* <-- PRIDANÉ */
}

.calendar-table h2 {
  color: var(--text-primary); /* Nová farba textu */
  margin-top: 0;
  border-bottom: 2px solid var(--accent-color);
  padding-bottom: 10px;
  font-family: var(--font-heading);
}

/* Štýly pre tabuľku v kalendári */
.calendar-table table {
  width: 100%;
  border-collapse: collapse;
}
.calendar-table th, .calendar-table td {
  padding: 8px;
  text-align: left;
  border-bottom: 1px solid var(--border); /* Nový border */
  color: var(--text-secondary); /* Jemnejšia farba textu */
}
.calendar-table th {
  color: var(--accent); /* Nová akcentová */
  font-family: var(--font-heading);
}
.new-week {
  border-top: 2px solid var(--accent-color);
}
.duty-column {
  font-weight: bold;
  color: var(--duty-color);
  width: 100px;
}

.week-column { width: 10%; }
.day-column { width: 15%; }
.date-column { width: 30%; }
.duty-column-header { width: 45%; }
/* --- KONIEC ŠTÝLOV KALENDÁRA --- */


/* --- ŠTÝLY PRE DRAG & DROP (UPRAVENÉ) --- */
.people-container {
  display: flex;
  flex-direction: column;
  gap: 20px;
  height: 100%;
  overflow-y: auto;
  border-radius: var(--radius-xl); /* <-- PRIDANÉ PRE OPRAVU ROHOV */
}

.container-people-dnd {
  /* --- APLIKOVANÝ NOVÝ DIZAJN PANELU --- */
  background-color: var(--glass-bg); /* <-- ZMENA */
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--glass-border); /* <-- ZMENA */
  padding: 20px;
  
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  backdrop-filter: blur(10px); /* <-- PRIDANÉ */
}

.container-people-dnd h3 {
  color: var(--text-primary); /* Nová farba textu */
  margin-top: 0;
  border-bottom: 2px solid var(--accent-color);
  padding-bottom: 10px;
  font-family: var(--font-heading);
}

.dnd-hint {
  font-size: 0.8rem;
  color: var(--text-tertiary); /* Jemnejšia farba */
  opacity: 1;
  margin-top: -10px;
}

/* --- NOVÉ ŠTÝLY PRE 3 STĹPCE ZAMESTNANCOV --- */
.available-people-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 15px;
  flex-grow: 1;
}

.available-people-grid > div {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.people-list-dnd {
  background-color: var(--gray-50); /* Svetlé pozadie pre D&D zónu */
  border-radius: var(--radius-md);
  padding: 10px;
  transition: var(--transition);
  flex-grow: 1;
  min-height: 150px;
  border: 1px dashed var(--border); /* Čiarkovaný okraj */
}
/* --- KONIEC NOVÝCH ŠTÝLOV --- */


.people-list-dnd:hover {
  background-color: var(--gray-100);
  border-color: var(--accent);
}

.employee-item {
  background-color: var(--bg-elevated); /* Biela */
  color: var(--text-primary); /* Tmavý text */
  padding: 10px;
  margin-bottom: 5px;
  border-radius: var(--radius-sm); /* Menší radius */
  border: 2px solid var(--border); /* Svetlý border */
  cursor: pointer; 
  transition: var(--transition);
  font-size: 0.9rem;
  box-shadow: var(--shadow-sm); /* Jemný tieň */
}

.employee-item:last-child {
  margin-bottom: 0;
}

.employee-item:hover {
  border-color: var(--accent-color);
  background-color: var(--gray-50);
  box-shadow: var(--shadow-md);
}

.employee-item.is-assigned {
  border-color: var(--destructive-color);
  opacity: 0.7; /* Znížená viditeľnosť */
}

.employee-item.reporting {
  border-color: var(--duty-color);
  box-shadow: 0 0 8px -2px var(--duty-color);
}

.employee-item .phone {
  display: block;
  font-size: 0.8rem;
  opacity: 0.7;
  color: var(--text-secondary); /* Jemnejšia farba */
}

/* SortableJS pomocné triedy */
.sortable-ghost {
  opacity: 0.4;
  background: var(--accent-light);
}
.sortable-drag {
  opacity: 1 !important;
  background: var(--gray-200);
  box-shadow: var(--shadow-lg); /* Väčší tieň pri ťahaní */
}

/* Vizuálny štýl pre cieľ presunutia v kalendári */
.calendar-drop-ghost {
  background: var(--accent-color);
  opacity: 0.5;
  padding: 10px;
  border-radius: 5px;
  min-height: 30px; 
  margin: 5px 0;
}
/* --- KONIEC D&D ŠTÝLOV --- */


/* --- ŠTÝLY PRE MODÁLNE OKNO (UPRAVENÉ) --- */
.modal-overlay {
  display: none; 
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(5px);
}

.modal-content {
  background-color: var(--bg-elevated); /* Nové pozadie */
  color: var(--text-primary); /* Nový text */
  margin: 5% auto;
  padding: 25px; /* Väčší padding */
  border: 1px solid var(--border);
  width: 80%;
  max-width: 800px;
  border-radius: var(--radius-xl); /* Väčší radius */
  box-shadow: var(--shadow-xl); /* Väčší tieň */
  position: relative;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 2px solid var(--accent-color);
  padding-bottom: 10px;
}

.modal-header h2 {
  margin: 0;
  color: var(--text-primary);
  font-family: var(--font-heading);
}

.modal-close {
  color: var(--text-tertiary);
  font-size: 28px;
  font-weight: bold;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0 10px;
}

.modal-close:hover,
.modal-close:focus {
  color: var(--destructive-color);
  text-decoration: none;
  outline: none;
}

.modal-body {
  margin-top: 20px;
}

.modal-footer {
  margin-top: 20px;
  text-align: right;
}
/* KONIEC MODÁLNEHO OKNA */


/* --- NOTIFIKÁCIE (Toast) (UPRAVENÉ) --- */
.oznamenie {
  position: fixed;
  bottom: 20px;
  right: 20px;
  padding: 15px 20px;
  border-radius: var(--radius-md); /* Nový radius */
  z-index: 1001;
  box-shadow: var(--shadow-lg); /* Nový tieň */
  color: white;
  font-weight: 600;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s ease;
  font-family: var(--font-body);
}

.oznamenie.show {
  opacity: 1;
  transform: translateY(0);
}

.oznamenie.success { background-color: #2ecc71; }
.oznamenie.error { background-color: var(--destructive-color); }
.oznamenie.info { background-color: var(--accent); } /* Nová info farba */

/* --- SKRYTIE POSUVNÍKOV --- */
.sidebar-layout,
.main-content-layout,
.people-container {
  scrollbar-width: none;
}
.sidebar-layout::-webkit-scrollbar,
.main-content-layout::-webkit-scrollbar,
.people-container::-webkit-scrollbar {
  display: none;
}

/* NOVÉ ŠTÝLY PRE SKUPINOVÉ D&D */
.available-group-header {
  color: var(--accent); /* Nová farba */
  margin-top: 0;
  margin-bottom: 5px;
  font-size: 0.9rem;
  font-weight: 600;
  border-bottom: 1px solid var(--border); /* Nový border */
  padding-bottom: 3px;
  font-family: var(--font-heading);
}

.group-drag-item {
  background-color: var(--gray-700); /* Tmavšia */
  color: var(--primary-color);
  padding: 10px;
  margin-bottom: 10px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--accent-color);
  cursor: grab;
  transition: var(--transition);
  font-size: 0.9rem;
  font-weight: bold;
  text-align: center;
  box-shadow: var(--shadow-sm);
}

.group-drag-item:hover {
  border-color: #fff;
  background-color: var(--gray-600);
}

/* --- ÚPRAVA ZAROVNANIA BUNIEK KALENDÁRA --- */
.calendar-table th, .calendar-table td {
  vertical-align: top;
}


/* --- NOVÉ ŠTÝLY PRE SKUPINY V KALENDÁRI --- */
.duty-group-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.duty-group-name {
  font-weight: bold;
  color: var(--text-primary); /* Tmavý text */
  font-size: 0.9rem;
  margin-bottom: 4px;
}
.employee-item-calendar {
  background-color: var(--gray-100); /* Svetlé pozadie */
  color: var(--text-secondary); /* Tmavší text */
  padding: 5px 8px;
  border-radius: 4px;
  border: 2px solid var(--border); /* Svetlý border */
  cursor: pointer;
  font-size: 0.85rem;
  transition: var(--transition);
  user-select: none;
}
.employee-item-calendar:hover {
  border-color: var(--accent-color);
  background-color: var(--gray-200);
}

.employee-item-calendar.reporting {
  border-color: var(--duty-color);
  box-shadow: 0 0 8px -2px var(--duty-color);
  background-color: #fffbeb; /* Jemne žltá pre hlásenie */
  color: var(--text-primary);
  font-weight: 600;
}

.duty-column {
    color: var(--duty-color);
}

/* --- NOVÉ ŠTÝLY PRE "GHOST" RIADKY V KALENDÁRI --- */
.ghost-row {
  opacity: 0.7;
}

.ghost-row td {
  border-bottom: none;
  padding-top: 2px !important;
  padding-bottom: 2px !important;
}

@media print {
  .ghost-row {
    display: none;
  }
}

/* --- NOVÝ ŠTÝL PRE VYBRANÚ SLUŽBU (SWAP) --- */
.employee-item-calendar.swap-selected {
  border-color: #e67e22;
  box-shadow: 0 0 8px -2px #e67e22;
  border-width: 3px;
  animation: pulse-swap 1s infinite alternate;
}

@keyframes pulse-swap {
  from {
    box-shadow: 0 0 8px -2px #e67e22;
    background-color: var(--gray-100);
  }
  to {
    box-shadow: 0 0 15px 0px #e67e22;
    background-color: #fbeee4;
  }
}

/* === 5. NOVÉ ŠTÝLY PRE HEADER A LOGO (z styles2.css) === */
.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid var(--accent-color);
    padding-bottom: 10px;
    margin-bottom: 15px; /* Upravená medzera z pôvodného h1 */
}

/* Toto nahrádza vymazaný .top-section h1 */
h1 {
    font-family: var(--font-heading);
    color: var(--text-primary);
    font-size: 1.8rem;
    margin-top: 0;
    margin-bottom: 0;
}

.header-logo-container {
    width: 81px;  /* Veľkosť upravená podľa pôvodného .brand-icon */
    height: 81px; /* Veľkosť upravená podľa pôvodného .brand-icon */
    margin-left: 15px;
    flex-shrink: 0; /* Zabráni zmenšeniu loga */
    
    background: transparent;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-smooth);
}

.header-logo-container:hover {
    /* === ZMENA: Odstránenie gradientu a animácie z kontajnera === */
    box-shadow: var(--shadow-sm); /* Ponecháme len jemný tieň na kontajneri */
    background: transparent;
    animation: none;
}

.header-logo-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 8px;
    position: relative; 
    z-index: 2;        
    /* ZMENA: Ponecháme len tranzíciu transformácie (rotácia/zväčšenie) */
    transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
}

.header-logo-container:hover .header-logo-img {
    /* Ponechané len zväčšenie a rotácia */
    transform: scale(1.72) rotate(360deg);
    /* Ponechaný jemný tieň pre hĺbku */
    filter: drop-shadow(4px 4px 6px rgba(0, 0, 0, 0.3));
}